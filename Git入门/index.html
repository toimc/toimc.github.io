<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon-16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.geekzu.org/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.toimc.com","root":"/","images":"/images","scheme":"Mist","version":"8.2.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-2},"disqusjs":{"text":"Load Disqus","order":-1}},"activeClass":"gitalk"},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"algolia":{"appID":"F0BT9J7IQF","apiKey":"fc8f8ea23cfb91aa998b6dd1ac6d2c87","indexName":"myblog","hits":{"per_page":10}}};
  </script>
<meta name="description" content="这是一篇Git入门教程，开始阅读本教程之前，请先仔细阅读目录，巧用目录来快速指引你阅读，无关紧要的目录内容可以跳过。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git入门教程">
<meta property="og:url" content="https://www.toimc.com/Git%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Coding World">
<meta property="og:description" content="这是一篇Git入门教程，开始阅读本教程之前，请先仔细阅读目录，巧用目录来快速指引你阅读，无关紧要的目录内容可以跳过。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2016-03-09T16:26:48.000Z">
<meta property="article:modified_time" content="2019-08-03T17:03:10.000Z">
<meta property="article:author" content="var author&#x3D;&#39;Brian&#39;">
<meta property="article:tag" content="git">
<meta property="article:tag" content="版本控制">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.toimc.com/Git%E5%85%A5%E9%97%A8/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>Git入门教程 | Coding World</title>
  

  <script data-pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?1e336df3c9b33283b6b6067eae9dc201";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Coding World" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Coding World</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Stay hungry, stay foolish</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-lessons"><a href="/lessons/" rel="section"><i class="fa fa-book fa-fw"></i>我的课程</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">Git简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">2.</span> <span class="nav-text">Git环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Git"><span class="nav-number">2.1.</span> <span class="nav-text">安装Git</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.2.</span> <span class="nav-text">全局变量设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%89%88%E6%9C%AC%E5%BA%93"><span class="nav-number">2.3.</span> <span class="nav-text">创建版本库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">2.4.</span> <span class="nav-text">基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Git%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E6%9A%82%E5%AD%98%E5%8C%BA"><span class="nav-number">2.4.1.</span> <span class="nav-text">Git工作区和暂存区:</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81%EF%BC%88%E5%89%8D%E9%A2%98%E6%98%AFinit%E4%B9%8B%E5%90%8E%EF%BC%89"><span class="nav-number">2.4.2.</span> <span class="nav-text">获取远程仓库代码（前题是init之后）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81"><span class="nav-number">2.4.3.</span> <span class="nav-text">提交代码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Git%E6%97%B6%E5%85%89%E6%9C%BA"><span class="nav-number">2.5.</span> <span class="nav-text">Git时光机</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86"><span class="nav-number">3.</span> <span class="nav-text">标签管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-gitignore%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">使用.gitignore忽略文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4%E5%88%AB%E5%90%8D"><span class="nav-number">5.</span> <span class="nav-text">配置命令别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.</span> <span class="nav-text">配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E6%81%A2%E5%A4%8D%E6%B5%81%E7%A8%8B"><span class="nav-number">7.</span> <span class="nav-text">Git恢复流程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%81%A2%E5%A4%8D%E6%8C%87%E5%AE%9A%E5%88%86%E6%94%AF"><span class="nav-number">7.1.</span> <span class="nav-text">方法一：恢复指定分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%81%A2%E5%A4%8D%E9%A1%B9%E7%9B%AE%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF"><span class="nav-number">7.2.</span> <span class="nav-text">方法二：恢复项目所有分支:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%A4%9A%E4%B8%AASSH%E5%AF%86%E9%92%A5%E6%96%87%E4%BB%B6"><span class="nav-number">8.</span> <span class="nav-text">本地多个SSH密钥文件</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="var author='Brian'"
      src="/assets/img/header.jpg">
  <p class="site-author-name" itemprop="name">var author='Brian'</p>
  <div class="site-description" itemprop="description">指尖改变世界</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/toimc" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;toimc" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:admin@wayearn.com" title="E-Mail → mailto:admin@wayearn.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/toimc" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.toimc.com/Git%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/img/header.jpg">
      <meta itemprop="name" content="var author='Brian'">
      <meta itemprop="description" content="指尖改变世界">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding World">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git入门教程
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-03-10 00:26:48" itemprop="dateCreated datePublished" datetime="2016-03-10T00:26:48+08:00">2016-03-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">git入门</span></a>
        </span>
    </span>

  
    <span id="/Git%E5%85%A5%E9%97%A8/" class="post-meta-item leancloud_visitors" data-flag-title="Git入门教程" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>9.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>8 分钟</span>
    </span>

</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>这是一篇Git入门教程，开始阅读本教程之前，请先仔细阅读目录，巧用目录来快速指引你阅读，无关紧要的目录内容可以跳过。</p>
<span id="more"></span>

<h3 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h3><p>Git是目前世界上最先进的分布式版本控制系统。</p>
<ol>
<li><p>版本控制</p>
<p> 典型代表Word文件的编辑，你的文件夹中是不是有这样的情况：</p>
<pre><code> word20160301.doc
 word备份的.doc
 word(小王).doc
 word-03.doc
 word.doc
</code></pre>
<p> 而某一天，你可能需要以前修改过的版本（因为，经常会遇到这种抽风的上司或者客户）</p>
<p> 而由版本控制给你带来的是：</p>
<pre><code> 版本    用户    说明    日期
 1   张三    删除了软件服务条款5    7/12 10:38
 2    张三    增加了License人数限制    7/12 18:09
 3    李四    财务部门调整了合同金额    7/13 9:51
 4    张三    延长了免费升级周期    7/14 15:17
</code></pre>
<p> 而且，你想退回到哪里，就可以退回到哪里！</p>
<p> 记住第一个关键词：（无尽的）<strong>后悔药</strong></p>
</li>
<li><p>分布式 VS 集中式</p>
<p> 集中式，典型的代表就是SVN，版本库是集中存放在中央服务器的，而干活的时候，用的都是自己的电脑，所以要先从中央服务器取得最新的版本，然后开始干活，干完活了，再把自己的活推送给中央服务器。</p>
<p> 分布式，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那里复制一个就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。</p>
<p> Git不单是不必联网这么简单，Git更强大的是分支管理。后面讲到~~~~</p>
<blockquote>
<pre><code>关于更多SVN&amp;Git的区别可以参见：

[蒋鑫：为什么 Git 比 SVN 好](http://blog.jobbole.com/20069/)

[SVN 和 Git 在日常使用中的明显差异](https://github.com/xirong/my-git/blob/master/why-git.md)

[GIT和SVN之间的五个基本区别](http://www.vaikan.com/5-fundamental-differences-between-git-svn/)
</code></pre>
</blockquote>
<p> 记住第二个关键词：<strong>分布式</strong></p>
</li>
</ol>
<h3 id="Git环境搭建"><a href="#Git环境搭建" class="headerlink" title="Git环境搭建"></a>Git环境搭建</h3><h4 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h4><pre><code>* 在Linux(Debian)上安装Git:

    apt-get install git

* Mac OS X上安装Git：

    一是安装homebrew，然后通过homebrew安装Git，具体方法请参考homebrew的文档：[http://brew.sh/](http://brew.sh/)。

    第二种方法更简单，也是推荐的方法，就是直接从AppStore安装Xcode，Xcode集成了Git，不过默认没有安装，你需要运行Xcode，选择菜单“Xcode”-&gt;“Preferences”，在弹出窗口中找到“Downloads”，选择“Command Line Tools”，点“Install”就可以完成安装了。

* 在Windows上安装Git

    从这里[https://git-for-windows.github.io/](https://git-for-windows.github.io/)下载，双击安装

    安装完成后，可以在右键菜单/开始菜单中找到“Git”-&gt;“Git Bash”，蹦出一个类似命令行窗口的东西，就说明Git安装成功！
</code></pre>
<h4 id="全局变量设置"><a href="#全局变量设置" class="headerlink" title="全局变量设置"></a>全局变量设置</h4><p>就像Java需要设置Path一样，Git需要设置一些全局变量。</p>
<pre><code>“Git”-&gt;“Git Bash”

$ git config --global user.name &quot;Your Name&quot;
$ git config --global user.email &quot;email@example.com&quot;
</code></pre>
<p>设置用户与Email，相当于自报家门，让版本库有一个记录。注意：<code>git config</code>命令的<code>--global</code>是全局设置的意思。</p>
<blockquote>
<p>任何一个命令或者参考：<code>git [命令] --help</code>来查看帮助，或者登陆官方来学习命令<a target="_blank" rel="noopener" href="http://git-scm.com/doc">http://git-scm.com/doc</a></p>
</blockquote>
<p>参考资料：<a target="_blank" rel="noopener" href="http://git-scm.com/book/zh/v2/Git-%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">Git 内部原理 - 环境变量</a></p>
<h4 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h4><p>非常简单。</p>
<ol>
<li><p>windows下，需要建立的版本库的地方，右键git bash-&gt;</p>
<pre><code> $ git init
</code></pre>
<p> 瞬间Git就把仓库建好了，而且告诉你是一个空的仓库（empty Git repository），细心的读者可以发现当前目录下多了一个.git的目录，这个目录是Git来跟踪管理版本库的，没事千万不要手动修改这个目录里面的文件，不然改乱了，就把Git仓库给破坏了。</p>
<p> PS:如果你没有看到.git目录，那是因为这个目录默认是隐藏的</p>
</li>
<li><p>Linux中：</p>
</li>
</ol>
<p>如果，需要在learngit目录下建立一个Git仓库，可以如下操作</p>
<pre><code>$ mkdir learngit
$ cd learngit
$ git init
</code></pre>
<p>你也可以这样:</p>
<pre><code>$ git init learngit
</code></pre>
<p>试一试吧！</p>
<h4 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h4><h5 id="Git工作区和暂存区"><a href="#Git工作区和暂存区" class="headerlink" title="Git工作区和暂存区:"></a>Git工作区和暂存区:</h5><p>我们看到目录为工作区(/learngit)；需要进行提交到版本库的文件放在暂存区（看不到，需要使用<code>git status</code>来查看）。</p>
<p><code>git status</code>命令：可以让我们时刻掌握仓库当前的状态。</p>
<p><code>git diff</code>命令：让我们查看文件与版本库中的区别。</p>
<h5 id="获取远程仓库代码（前题是init之后）"><a href="#获取远程仓库代码（前题是init之后）" class="headerlink" title="获取远程仓库代码（前题是init之后）"></a>获取远程仓库代码（前题是<code>init</code>之后）</h5><ol>
<li><p>克隆仓库：</p>
<pre><code> $ git clone [user@]example.com:path/to/repo.git/
 
</code></pre>
</li>
<li><p>或者添加远程仓库：</p>
<p> 使用<code>git remote add</code>命令，添加一个远程仓库的链接，命令格式：<code>git remote add [远程仓库别名] [远程仓库地址]</code></p>
<pre><code> $ git remote add origin git@github.com:michaelliao/learngit.git
</code></pre>
</li>
<li><p>拉取代码。</p>
<p> 如果已经被git管理的项目，则使用<code>git pull</code>和<code>git fetch</code>来管理代码的拉取与更新：</p>
<p> 使用<code>git pull</code>拉取远程代码的<code>HEAD</code>头标记，即最新的代码。</p>
<p> 命令格式：<code>$ git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</code></p>
<pre><code> $ git pull 
</code></pre>
</li>
</ol>
<h5 id="提交代码"><a href="#提交代码" class="headerlink" title="提交代码"></a>提交代码</h5><p>把所有的文件更改提交到暂存区：</p>
<pre><code>$ git add -a
</code></pre>
<p>为所有暂存区的代码写入日志并提交到本地仓库：</p>
<pre><code>$ git commit -m &quot;(something)&quot;
</code></pre>
<p>把所有本地仓库的提交，更新到远程仓库：</p>
<pre><code>$ git push
</code></pre>
<h4 id="Git时光机"><a href="#Git时光机" class="headerlink" title="Git时光机"></a>Git时光机</h4><ol>
<li><code>git log</code>命令：查看每次修改的日志文件。</li>
</ol>
<p> <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/17857723/whats-the-difference-between-git-reflog-and-log">git log与git reflog的区别</a>，记得几点：git log是顺着当前分支往前去查找提交记录，而git reflog并不像git log去遍历提交历史，它都不是仓库的一部分，它不包含推送、更新或者克隆，而是作为本地提交记录的清单。简单理解：<strong>本地后悔药</strong>。</p>
<ol start="2">
<li><p><code>git reset</code>命令：回退命令。</p>
<p> 首先，Git必须知道当前版本是哪个版本，在Git中，用<code>HEAD</code>表示当前版本，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然往上100个版本写100个<code>^</code>比较容易数不过来，所以写成<code>HEAD~100</code>。</p>
<pre><code> $ git reset --hard HEAD^
 HEAD is now at ea34578 add distributed
</code></pre>
<p> 回退add命令提交到缓存区的文件，并不会把文件恢复缓存区，需要区别（3）<code>git checkout</code>命令：</p>
<pre><code> $ git reset HEAD &lt;file&gt;
</code></pre>
</li>
<li><p><code>git checkout -- &lt;file&gt;</code>命令:丢弃缓存区文件的修改，把文件恢复到<code>git add</code>之前的状态。</p>
</li>
<li><p><code>git diff HEAD -- &lt;file&gt;</code>命令可以查看<file>工作区和版本库里面最新版本的区别</p>
</li>
<li><p><code>git rm</code>删除文件。</p>
</li>
</ol>
<h3 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h3><p>发布一个版本时，我们通常先在版本库中打一个标签，这样，就唯一确定了打标签时刻的版本。将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。所以，标签也是版本库的一个快照。</p>
<p>Git的标签虽然是版本库的快照，但其实它就是指向某个commit的指针（跟分支很像对不对？但是分支可以移动，标签不能移动），所以，创建和删除标签都是瞬间完成的。</p>
<ol>
<li><p>创建标签（快照）</p>
<p> 在Git中打标签非常简单，首先，切换到需要打标签的分支上：</p>
<pre><code> $ git branch
 * dev
   master
 $ git checkout master
 Switched to branch &#39;master&#39;
</code></pre>
<p> 然后，敲命令<code>git tag &lt;name&gt;</code>就可以打一个新标签：</p>
<pre><code> $ git tag v1.0
</code></pre>
<p> 可以用命令<code>git tag</code>查看所有标签：</p>
<pre><code> $ git tag
 v1.0
</code></pre>
<p> 默认标签是打在最新提交的commit上的。有时候，如果忘了打标签，比如，现在已经是周五了，但应该在周一打的标签没有打，怎么办？</p>
<p> 方法是找到历史提交的commit id，然后打上就可以了：</p>
<pre><code> $ git log --pretty=oneline --abbrev-commit
 6a5819e merged bug fix 101
 cc17032 fix bug 101
 7825a50 merge with no-ff
 6224937 add merge
 59bc1cb conflict fixed
 400b400 &amp; simple
 75a857c AND simple
 fec145a branch test
 d17efd8 remove test.txt
</code></pre>
<p> 比方说要对add merge这次提交打标签，它对应的commit id是<code>6224937</code>，敲入命令：</p>
<pre><code> $ git tag v0.9 6224937
</code></pre>
<p> 再用命令<code>git tag</code>查看标签：</p>
<pre><code> $ git tag
 v0.9
 v1.0
</code></pre>
<blockquote>
<p>注意，<strong>标签不是按时间顺序列出，而是按字母排序的。</strong></p>
</blockquote>
<p> 可以用<code>git show &lt;tagname&gt;</code>查看标签信息：</p>
<pre><code> $ git show v0.9
 commit 622493706ab447b6bb37e4e2a2f276a20fed2ab4
 Author: Brian &lt;brian@toimc.com&gt;
 Date:   Thu Aug 22 11:22:08 2013 +0800
 
     add merge
 ...
</code></pre>
<p> 可以看到，v0.9确实打在add merge这次提交上。</p>
<p> 还可以创建带有说明的标签，用<code>-a</code>指定标签名，<code>-m</code>指定说明文字：</p>
<pre><code> $ git tag -a v0.1 -m &quot;version 0.1 released&quot; 3628164
</code></pre>
<p> 用命令<code>git show &lt;tagname&gt;</code>可以看到说明文字：</p>
<pre><code> $ git show v0.1
 tag v0.1
 Tagger: Brian &lt;brian@toimc.com&gt;
 Date:   Mon Aug 26 07:28:11 2013 +0800
 
 version 0.1 released
 
 commit 3628164fb26d48395383f8f31179f24e0882e1e0
 Author: Brian &lt;brian@toimc.com&gt;
 Date:   Tue Aug 20 15:11:49 2013 +0800
 
 append GPL
</code></pre>
<p> 还可以通过<code>-s</code>用私钥签名一个标签：</p>
<pre><code> $ git tag -s v0.2 -m &quot;signed version 0.2 released&quot; fec145a
</code></pre>
<p> 参考资料：</p>
<p> <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/07/gpg.html">GPG入门教程</a></p>
<p> <a target="_blank" rel="noopener" href="http://airk000.github.io/git/2013/09/30/git-tag-with-gpg-key">带GPG签名的Git tag</a></p>
<p> <a target="_blank" rel="noopener" href="http://blog.csdn.net/chenjh213/article/details/47978199">git使用GPG进行签名</a></p>
</li>
<li><p>标签操作（删除，推送）</p>
<p> 命令<code>git push origin &lt;tagname&gt;</code>可以推送一个本地标签；</p>
<p> 命令<code>git push origin --tags</code>可以推送全部未推送过的本地标签；</p>
<p> 命令<code>git tag -d &lt;tagname&gt;</code>可以删除一个本地标签；</p>
<p> 命令<code>git push origin :refs/tags/&lt;tagname&gt;</code>可以删除一个远程标签。</p>
<p> 如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除：</p>
<pre><code> $ git tag -d v0.9
 Deleted tag &#39;v0.9&#39; (was 6224937)
</code></pre>
<p> 然后，从远程删除。删除命令也是push，但是格式如下：</p>
<pre><code> $ git push origin :refs/tags/v0.9
 To git@github.com:michaelliao/learngit.git
  - [deleted]         v0.9
</code></pre>
</li>
</ol>
<h3 id="使用-gitignore忽略文件"><a href="#使用-gitignore忽略文件" class="headerlink" title="使用.gitignore忽略文件"></a>使用.gitignore忽略文件</h3><p>有些时候，你必须把某些文件放到Git工作目录中，但又不能提交它们，比如保存了数据库密码的配置文件啦，等等，每次git status都会显示Untracked files …，有强迫症的童鞋心里肯定不爽。</p>
<p>好在Git考虑到了大家的感受，这个问题解决起来也很简单，在Git工作区的根目录下创建一个特殊的.gitignore文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件。</p>
<p>不需要从头写<code>.gitignore</code>文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接在线浏览：<a target="_blank" rel="noopener" href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
<p>忽略文件的原则是：</p>
<ul>
<li>忽略操作系统自动生成的文件，比如缩略图等；</li>
<li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的.class文件；</li>
<li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li>
</ul>
<p>举个例子：</p>
<p>假设你在Windows下进行Python开发，Windows会自动在有图片的目录下生成隐藏的缩略图文件，如果有自定义目录，目录下就会有Desktop.ini文件，因此你需要忽略Windows自动生成的垃圾文件：</p>
<pre><code># Windows:
Thumbs.db
ehthumbs.db
Desktop.ini
</code></pre>
<p>然后，继续忽略Python编译产生的<code>.pyc</code>、<code>.pyo</code>、<code>dist</code>等文件或目录：</p>
<pre><code># Python:
*.py[cod]
*.so
*.egg
*.egg-info
dist
build
</code></pre>
<p>加上你自己定义的文件，最终得到一个完整的<code>.gitignore</code>文件，内容如下：</p>
<pre><code># Windows:
Thumbs.db
ehthumbs.db
Desktop.ini

# Python:
*.py[cod]
*.so
*.egg
*.egg-info
dist
build

# My configurations:
db.ini
deploy_key_rsa
</code></pre>
<p>最后一步就是把.gitignore也提交到Git，就完成了！当然检验<code>.gitignore</code>的标准是<code>git status</code>命令是不是说working directory clean。</p>
<p>使用Windows的童鞋注意了，如果你在资源管理器里新建一个<code>.gitignore</code>文件，它会非常弱智地提示你必须输入文件名，但是在文本编辑器里“保存”或者“另存为”就可以把文件保存为<code>.gitignore</code>了。</p>
<p>或者可以使用以下方法，在git bash中输入以下命令：</p>
<pre><code>$ touch .gitignore
$ vi .gitignore
</code></pre>
<blockquote>
<p>Git忽略规则及.gitignore规则不生效的解决办法：</p>
</blockquote>
<pre><code>git rm -r --cached .
git add .
git commit -m &#39;update .gitignore&#39;
</code></pre>
<blockquote>
<p>PS：注意–cached后面有一个”.”，add后面也有一个“.”</p>
<p>完成上述操作后，再重新修改.gitnore文件，并<code>git add .</code>添加文件到缓存区</p>
</blockquote>
<h3 id="配置命令别名"><a href="#配置命令别名" class="headerlink" title="配置命令别名"></a>配置命令别名</h3><p>有没有经常敲错命令？比如<code>git status</code>？status这个单词真心不好记。</p>
<p>如果敲<code>git st</code>就表示<code>git status</code>那就简单多了，当然这种偷懒的办法我们是极力赞成的。</p>
<p>我们只需要敲一行命令，告诉<code>Git</code>，以后<code>st</code>就表示<code>status</code>：</p>
<pre><code>$ git config --global alias.st status
</code></pre>
<p>好了，现在敲<code>git st</code>看看效果。</p>
<p>当然还有别的命令可以简写，很多人都用<code>co</code>表示<code>checkout</code>，<code>ci</code>表示<code>commit</code>，<code>br</code>表示<code>branch</code>：</p>
<pre><code>$ git config --global alias.co checkout
$ git config --global alias.ci commit
$ git config --global alias.br branch
</code></pre>
<p>以后提交就可以简写成：</p>
<pre><code>$ git ci -m &quot;bala bala bala...&quot;
</code></pre>
<p><code>--global</code>参数是全局参数，也就是这些命令在这台电脑的所有Git仓库下都有用。</p>
<p>在撤销修改一节中，我们知道，命令<code>git reset HEAD file</code>可以把暂存区的修改撤销掉（unstage），重新放回工作区。既然是一个<code>unstage</code>操作，就可以配置一个<code>unstage</code>别名：</p>
<pre><code>$ git config --global alias.unstage &#39;reset HEAD&#39;
</code></pre>
<p>当你敲入命令：</p>
<pre><code>$ git unstage test.py
</code></pre>
<p>实际上Git执行的是：</p>
<pre><code>$ git reset HEAD test.py
</code></pre>
<p>配置一个<code>git last</code>，让其显示最后一次提交信息：</p>
<pre><code>$ git config --global alias.last &#39;log -1&#39;
</code></pre>
<p>这样，用<code>git last</code>就能显示最近一次的提交：</p>
<pre><code>$ git last
commit adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2
Merge: bd6ae48 291bea8
Author: Michael Liao &lt;askxuefeng@gmail.com&gt;
Date:   Thu Aug 22 22:49:22 2013 +0800

merge &amp; fix hello.py
</code></pre>
<p>甚至还有人丧心病狂地把<code>lg</code>配置成了：</p>
<pre><code>git config --global alias.lg &quot;log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;
</code></pre>
<p>来看看git lg的效果：</p>
<p>为什么不早点告诉我？别激动，咱不是为了多记几个英文单词嘛！</p>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>配置Git的时候，加上<code>--global</code>是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</p>
<p>配置文件放哪了？每个仓库的Git配置文件都放在<code>.git/config</code>文件中：</p>
<pre><code>$ cat .git/config 
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    ignorecase = true
    precomposeunicode = true
[remote &quot;origin&quot;]
    url = git@github.com:michaelliao/learngit.git
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch &quot;master&quot;]
    remote = origin
    merge = refs/heads/master
[alias]
    last = log -1
</code></pre>
<p>别名就在<code>[alias]</code>后面，要删除别名，直接把对应的行删掉即可。</p>
<p>而当前用户的Git配置文件放在用户主目录下的一个隐藏文件.<code>gitconfig</code>中：</p>
<pre><code>$ cat .gitconfig
[alias]
    co = checkout
    ci = commit
    br = branch
    st = status
[user]
    name = Your Name
    email = your@email.com
    
</code></pre>
<h3 id="Git恢复流程"><a href="#Git恢复流程" class="headerlink" title="Git恢复流程"></a>Git恢复流程</h3><p>当中心仓库由于不可抗拒因素而垮了之后：</p>
<p>项目Git恢复流程：</p>
<h4 id="方法一：恢复指定分支"><a href="#方法一：恢复指定分支" class="headerlink" title="方法一：恢复指定分支"></a>方法一：恢复指定分支</h4><p>1.注册账号→输入SSH keys→新建项目。</p>
<p>2.在原项目文件夹下，使用<code>git remote -v</code>命令查看</p>
<pre><code>$ git remote -v
origin  git@192.168.1.222:kanlidy/HelloGit.git (fetch)
origin  git@192.168.1.222:kanlidy/HelloGit.git (push)
</code></pre>
<p>使用<code>git remote remove origin</code>删除原有仓库地址。</p>
<p>3.使用新的仓库地址：</p>
<pre><code>git remote add origin [ssh仓库地址]
</code></pre>
<p>如：</p>
<pre><code>git remote add origin ssh://git@github.com/kanlidy/HelloGit.git
</code></pre>
<p>4.添加文件，并Commit提交，最后push上远程指定分支</p>
<pre><code>git add .

git commit -m &quot;add my repo&quot;

#这条命令会把当前分支，推送到远程的master分支
git push origin master 

#如果需要把dev分支，推送到远程的dev分支
git push origin dev:dev
</code></pre>
<h4 id="方法二：恢复项目所有分支"><a href="#方法二：恢复项目所有分支" class="headerlink" title="方法二：恢复项目所有分支:"></a>方法二：恢复项目所有分支:</h4><pre><code>git remote remove origin

git remote add origin [新的SSH仓库地址]

git push --mirror ssh://git@github.com/kanlidy/LearnPython.git
</code></pre>
<h3 id="本地多个SSH密钥文件"><a href="#本地多个SSH密钥文件" class="headerlink" title="本地多个SSH密钥文件"></a>本地多个SSH密钥文件</h3><p>有的时候，不仅github使用ssh key，工作项目或者其他云平台可能也需要使用ssh key来认证，如果每次都覆盖了原来的id_rsa文件，那么之前的认证就会失效。这个问题我们可以通过在~/.ssh目录下增加config文件来解决。</p>
<ol>
<li><p>第一步依然是配置git用户名和邮箱</p>
<pre><code> git config user.name &quot;用户名&quot;
 git config user.email &quot;邮箱&quot;
</code></pre>
</li>
<li><p>生成ssh key时同时指定保存的文件名</p>
<pre><code> ssh-keygen -t rsa -f ~/.ssh/id_rsa.company -C &quot;email&quot;
</code></pre>
<p> 上面的<code>id_rsa.company</code>就是我们指定的文件名，这时~/.ssh目录下会多出<code>id_rsa.company</code>和<code>id_rsa.company.pub</code>两个文件，<code>id_rsa.company.pub</code>里保存的就是我们要使用的key。</p>
</li>
<li><p>新增并配置config文件</p>
<p> 添加config文件</p>
<p> 如果config文件不存在，先添加；存在则直接修改</p>
<pre><code> touch ~/.ssh/config
</code></pre>
<p> 在config文件里添加如下内容(User表示你的用户名)</p>
<pre><code> Host 域名或者IP
     IdentityFile ~/.ssh/id_rsa.company
     User test
</code></pre>
<p> 如：</p>
<pre><code> Host 192.168.1.222
 IdentityFile ~/.ssh/id_rsa.company
 User kanlidy
</code></pre>
</li>
<li><p>   上传key到云平台后台(省略)</p>
</li>
<li><p>测试ssh key是否配置成功</p>
<pre><code> ssh -T git@域名或者IP
</code></pre>
</li>
</ol>
<pre><code>如：

    ssh -T git@192.168.1.222 -p 8082

成功的话会显示：
    
    Welcome to GitLab, kanlidy!

至此，本地便成功配置多个ssh key。日后如需添加，则安装上述配置生成key，并修改config文件即可。
    
</code></pre>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/git代码仓库转移/" rel="bookmark">git代码仓库转移</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/git分支管理/" rel="bookmark">Git分支管理</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/git常用命令/" rel="bookmark">Git常用命令</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/git submodule/" rel="bookmark">git submodule</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/使用git subtree管理项目中的子库/" rel="bookmark">使用git subtree管理项目中的子库</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/github使用ssh密钥/" rel="bookmark">github使用ssh密钥</a></div>
    </li>
  </ul>


    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>var author='Brian'
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://www.toimc.com/Git%E5%85%A5%E9%97%A8/" title="Git入门教程">https://www.toimc.com/Git入门/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
              <a href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag"># 版本控制</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E4%BF%AE%E7%82%BC%E4%B9%8B%E9%81%93%E3%80%8B%E8%B1%86%E7%93%A3%E4%B9%A6%E8%AF%84/" rel="prev" title="《程序员修炼之道》书评">
                  <i class="fa fa-chevron-left"></i> 《程序员修炼之道》书评
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/JavaSript%E9%97%AD%E5%8C%85%E5%AD%A6%E4%B9%A0/" rel="next" title="JavaSript闭包学习">
                  JavaSript闭包学习 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-gitalk">gitalk</a></li>
            <li class="tab"><a href="#comment-disqusjs">Load Disqus</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane gitalk" id="comment-gitalk">
              <div class="comments gitalk-container"></div>
            </div>
            <div class="tab-pane disqusjs" id="comment-disqusjs">
              
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">鄂ICP备19018123号-1 </a>
  </div>

<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">toimc前端技术</span>
    <a href="https://bandwagonhost.com/aff.php?aff=6389" target="_blank" data-pjax-state="">搬瓦工Host</a>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>


<script>
var options = {
  bottom: '32px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: '#fff',
  backgroundColor: '#fff', 
  buttonColorDark: '#100f2c', 
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true,
}
const darkmode = new Darkmode(options);
darkmode.showWidget();
</script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>
<script src="/js/code-unfold.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.8.5/dist/algoliasearch-lite.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.15.0/dist/instantsearch.production.min.js"></script><script src="/js/algolia-search.js"></script>






  


<script data-pjax>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            const target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    const { app_id, app_key, server_url } = {"enable":true,"app_id":"YvgheVT82eRRYHM6xtvaEL6l-gzGzoHsz","app_key":"uwmRd9pGJeDmqKQNmalNsosO","server_url":"https://blog.toimc.com","security":true};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) === '-MdYXbMMI' ? `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com` : server_url;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>

    <div class="pjax">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.3.0/dist/disqusjs.css">

<script>
NexT.utils.loadComments('#disqus_thread', () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/disqusjs@1.3.0/dist/disqus.js', () => {
    window.dsqjs = new DisqusJS({
      api       : 'c4oVAWQDzu35XGJjTl4tpVpmMhX36APj6M7KcaRhBpP7POvcMCCyDwUTgiixOfdh' || 'https://disqus.com/api/',
      apikey    : 'jVI1IkXmmqKgD8aUBBlIUTRV8wHgAqBc6XT7ZC0OaZQJNtAy47G7pVuvB8yl9Iae',
      shortname : 'toimc',
      url       : "https://www.toimc.com/Git%E5%85%A5%E9%97%A8/",
      identifier: "Git入门/",
      title     : "Git入门教程",
    });
  }, window.DisqusJS);
});
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.css">

<script>
NexT.utils.loadComments('.gitalk-container', () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'c2514f07e902bf3f9af6',
      clientSecret: '4a1a05479a3ca34095cb13fccc48245674407ba7',
      repo        : 'toimc.github.io',
      owner       : 'toimc',
      admin       : ['toimc'],
      id          : '84baa91d64373bf728eebc9ea278d19e',
      proxy       : '/login/oauth/access_token',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render(document.querySelector('.gitalk-container'));
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
